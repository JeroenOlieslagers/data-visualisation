(window["webpackJsonpdata-visualisation"]=window["webpackJsonpdata-visualisation"]||[]).push([[0],{175:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},191:function(e,t,a){e.exports=a(203)},196:function(e,t,a){},197:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var n=a(56),r=a(2),i=a.n(r),o=a(41),s=a.n(o),l=(a(196),a(42)),c=a(40),h=a(50),m=a(51),u=a(52),d=a(175),p=a.n(d),g=(a(197),a(233)),f=a(260),v=a(236),y=a(259),b=a(262),w=a(238),E=a(239),x=function(e,t,a,n){return{type:"SLIDER_CHANGE",newValue:t,value:a,event:e,name:n}},M=function(e,t,a){return{type:"INPUT_CHANGE",event:e,value:t,name:a}},j=function(e,t,a){return{type:"CLIP",max:e,value:t,name:a}},O=function(e){return{type:"TOGGLE_UPDATE_DATA",name:e}},T=function(e){return{type:"TOGGLE_PERFORMANCE_CHART",name:e}},k=a(74),N=a(237),D=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).handleOpen=function(t){t.stopPropagation(),e.setState({anchorEl:t.currentTarget})},e.changeStatsTab=function(t,a){e.props.setTab(t,a),e.handleClose(t),e.setState({statsTab:a})},e.handleClose=function(){e.setState({anchorEl:null})},e.state={statsTab:"normal"},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=Boolean(this.state.anchorEl);return i.a.createElement(C,null,i.a.createElement(g.a,null,i.a.createElement(f.a,{centered:!0,value:this.props.selectedTab,onChange:this.props.setTab},i.a.createElement(v.a,{label:"home",value:"home"}),i.a.createElement(v.a,{classes:{wrapper:"stats__tab"},label:"Stats",value:this.state.statsTab,icon:i.a.createElement(N.a,null),onClick:this.handleOpen}),i.a.createElement(v.a,{label:"Spike Trains",value:"spikeTrains"}),i.a.createElement(v.a,{label:"Ray Tracing",value:"rayTracing"}),i.a.createElement(v.a,{label:"IPython Notebooks",value:"ipython"})),i.a.createElement(y.a,{open:t,anchorEl:this.state.anchorEl,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},i.a.createElement(b.a,{className:"stats__menu",onClick:function(t){return e.changeStatsTab(t,"normal")}},"Normal"),i.a.createElement(b.a,{className:"stats__menu",onClick:function(t){return e.changeStatsTab(t,"poisson")}},"Poisson"))))}}]),t}(i.a.Component);function C(e){var t=e.children,a=e.window,n=Object(w.a)({target:a?a():void 0});return i.a.createElement(E.a,{appear:!1,direction:"down",in:!n},t)}var P={setTab:function(e,t){return{type:"SET_TAB",value:t}}},_=Object(k.b)((function(e){return{selectedTab:e.selectedTab}}),P)(D),R=a(240),S=a(251),I=a(252),B=a(253),L=a(261),A=a(254),H=a(128),F=a(264),U=a(263);function W(e,t){return t<0?0:Math.pow(e,t)*Math.exp(-e)/function e(t){return 0===t?1:t*e(t-1)}(t)}function G(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=0,n=0;0===a;)a=Math.random();for(;0===n;)n=Math.random();return Math.sqrt(-2*Math.log(a))*Math.cos(2*Math.PI*n)*t+e}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>1e3)throw new Error("Value of Lambda too large");for(var t=0,a=Math.exp(-e),n=a,r=Math.random();n<r;)n+=a*=e/++t;return t}function q(e){console.time("histogram");var t=[],a=[],n=[],r=Object.keys(e[0]).slice(1,e.length);return e.forEach((function(e){r.forEach((function(i){(n=-1===Math.sign(e[i])?a:t)[e[i]]?n[e[i]][i]+=1:(n[e[i]]={},r.forEach((function(t){n[e[i]][t]=0})),n[e[i]][i]=1)}))})),console.timeEnd("histogram"),[t,a]}function Y(e){var t=Math.floor(Math.log10(0===e?1:e));return(0===t?e:Math.round(e/Math.pow(10,t)))+9*t}var V=function(){function e(t,a){Object(l.a)(this,e),this.x=t,this.y=a}return Object(c.a)(e,[{key:"vMinus",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"vPlus",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"set",value:function(e,t){this.x=e,this.y=t}},{key:"normalise",value:function(){var e=Math.sqrt(this.l22);this.x=this.x/e,this.y=this.y/e}},{key:"p",get:function(){return[this.x,this.y]}},{key:"l22",get:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)}}]),e}(),Z=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"slider__container"},i.a.createElement(H.a,{id:"input-slider",gutterBottom:!0},this.props.label),i.a.createElement(R.a,{container:!0,spacing:2,alignItems:"center"},i.a.createElement(R.a,{item:!0},this.props.icon),i.a.createElement(R.a,{item:!0,xs:!0},i.a.createElement(F.a,{value:Y(this.props.value),onChange:function(t,a){return e.props.sliderChange(t,a,e.props.valueName,e.props.name)},onChangeCommitted:function(){return e.props.toggleUpdateData(e.props.name)},"aria-labelledby":"input-slider",max:Y(this.props.max),className:"slider"})),i.a.createElement(R.a,{item:!0},i.a.createElement(U.a,{className:"slider__input",value:this.props.value,margin:"dense",onChange:function(t){return e.props.inputChange(t,e.props.valueName,e.props.name)},onBlur:function(){return e.props.handleBlur(e.props.valueName,e.props.max,e.props.name)},inputProps:{"aria-labelledby":"input-slider"}}))))}}]),t}(i.a.Component),z=a(247),J=a(248),Q=a(249),K=a(250),$=a(77),ee=a(241),te=a(242),ae=a(243),ne=a(245),re=a(246),ie=a(180),oe=a.n(ie),se=a(244);function le(e){var t=i.a.useState(!0),a=Object($.a)(t,2),n=a[0],r=a[1];return i.a.createElement(ee.a,{className:e.className},i.a.createElement(te.a,{className:"card__header",disableTypography:!0,title:i.a.createElement("div",{className:"card__header__content"},i.a.createElement(H.a,{variant:"h5",className:"card__header__title"},e.title),i.a.createElement(ae.a,{onClick:function(){r(!n)},"aria-expanded":n,"aria-label":"show more",className:oe()("card__header__expand",n?"card__header__expand--open":"")},i.a.createElement(se.a,null))),avatar:e.avatar}),i.a.createElement(ne.a,{in:n},i.a.createElement(re.a,null,e.children)))}var ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleBlur=function(e,t,n){a.props.clip(t,e,n),a.props.toggleUpdateData(n)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(le,{title:"Graph Configuration",avatar:i.a.createElement(z.a,null)},i.a.createElement(R.a,{container:!0},i.a.createElement(R.a,{item:!0,xs:6},i.a.createElement(Z,{label:"Mean",name:"normal",valueName:"mean",value:this.props.mean.normal,inputChange:this.props.inputChange,sliderChange:this.props.sliderChange,toggleUpdateData:this.props.toggleUpdateData,handleBlur:this.handleBlur,max:1e5,icon:i.a.createElement(J.a,null)})),i.a.createElement(R.a,{item:!0,xs:6},i.a.createElement(Z,{label:"Standard Deviation",name:"normal",valueName:"stDev",value:this.props.stDev.normal,inputChange:this.props.inputChange,sliderChange:this.props.sliderChange,toggleUpdateData:this.props.toggleUpdateData,handleBlur:this.handleBlur,max:1e3,icon:i.a.createElement(Q.a,null)})),i.a.createElement(R.a,{item:!0,xs:6},i.a.createElement(Z,{label:"Samples",name:"normal",valueName:"samples",value:this.props.samples.normal,inputChange:this.props.inputChange,sliderChange:this.props.sliderChange,toggleUpdateData:this.props.toggleUpdateData,handleBlur:this.handleBlur,max:1e6,icon:i.a.createElement(K.a,null)})),i.a.createElement(R.a,{item:!0,xs:6},i.a.createElement(S.a,{component:"fieldset",className:"stats__performance-chart"},i.a.createElement(I.a,null,i.a.createElement(B.a,{control:i.a.createElement(L.a,{checked:this.props.performanceChart.normal,onChange:function(){return e.props.togglePerformanceChart("normal")}}),label:"Performance Chart"})),i.a.createElement(A.a,{margin:"dense"},"Tick for faster rendering (recommended at high variances)")))))}}]),t}(i.a.Component);var he={sliderChange:x,inputChange:M,clip:j,toggleUpdateData:O,togglePerformanceChart:T},me=Object(k.b)((function(e){return{mean:e.mean,stDev:e.stDev,samples:e.samples,performanceChart:e.performanceChart}}),he)(ce),ue=a(182),de=a(257),pe=a(53),ge=(a(174),a(31)),fe=a(36),ve=a(124),ye=a(97);var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.samples,a=void 0===t?100:t,n=e.countries,r=void 0===n?void 0:n,i=e.rules,o=void 0===i?[]:i,s=e.slope,l=void 0===s?.1:s,c=e.isStatic,h=void 0===c||c,m=e.independent,u=void 0===m?"id":m,d=e.dependent,p=void 0===d?[{name:"column-1",mean:200,stDev:20,rules:[""]},{name:"column-2",mean:50,stDev:5,rules:[""]}]:d,g=[],f={};if("date"===u){var v=new Date;v.setDate(v.getDate()-a),f.date=v}else if("id"===u)f.id=1;else if("country"===u){if(!r)throw new Error("Countries parameter needs to be defined");f.id=r[0]}p.forEach((function(e,t){f[e.name]=Math.round(G(e.mean,e.stDev))}));for(var y=f,b={},w=0;w<(r?r.length:a);w++){switch(b={},u){case"date":var E=new Date;E.setDate(f.date.getDate()+w),b.date=E;break;case"id":b.id=f.id+w;break;case"country":b.id=r[w];break;default:throw new Error("Independent variable not valid")}p.forEach((function(e,t){e.rules.includes("uniform")?b[e.name]=Math.round(Math.random()*(6*e.stDev)+(e.mean-3*e.stDev)):e.rules.includes("poisson")?b[e.name]=Math.round(X(e.mean)):b[e.name]=Math.round(G(e.mean,e.stDev)),(o.includes("positive")||e.rules.includes("positive"))&&b[e.name]<0&&(b[e.name]=0),h||(b[e.name]=y[e.name]+Math.round((Math.random()<.5+l?1:-1)*b[e.name]),y=b)})),g.push(b)}return g},we=a(255),Ee=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).chart=null,ge.d.commercialLicense=!0,e.prevPerf=!1,e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.createChart()}},{key:"createData",value:function(){var e=this.props.samples.normal,t=this.props.mean.normal,a=this.props.stDev.normal,n=q(be({samples:e,dependent:[{name:"column-1",mean:t,stDev:a,rules:[]},{name:"column-3",mean:t,stDev:a,rules:["uniform"]}]})),r=n[0],i=Object.keys(r),o=n[1],s=Object.keys(o).sort((function(e,t){return Number(e)-Number(t)})),l=s.concat(i),c=[],h=[];l.forEach((function(n,i){h=-1===Math.sign(Number(n))?o:r;var s,l,m,u={};u.id=Number(n),u["column-1"]=h[n]["column-1"],u["column-2"]=Math.round((s=t,l=a,m=parseInt(n,10),1/(l*Math.sqrt(2*Math.PI))*Math.exp(-.5*Math.pow((m-s)/l,2))*e)),u["column-3"]=h[n]["column-3"],c[0]?u["column-4"]=c[i-1]["column-4"]+h[n]["column-1"]:u["column-4"]=u["column-1"],c.push(u)}));var m=!1;return 0!==s.length&&(m=!0),[c,m]}},{key:"createChart",value:function(){ge.g(ve.a),this.props.performanceChart.normal?ge.f(ye.a):ge.g(ye.a),this.chart=ge.c(this.refs.normal_chart,fe.g);var e=this.chart;e.categoryField="category";var t=this.createData();e.data=t[0];var a=t[1],n=e.xAxes.push(new fe.a);n.dataFields.category="id",n.renderer.grid.strokeDasharray=3,this.range=n.axisRanges.create(),this.range.category=a?0:void 0,this.range.label.paddingTop=2,this.range.label.fontSize=12,this.range.grid.stroke=ge.b("grey"),this.range.grid.strokeWidth=1,this.range.grid.strokeOpacity=.7,e.yAxes.push(new fe.f).renderer.grid.strokeDasharray=3;var r=new ge.a,i=e.yAxes.push(new fe.f);i.renderer.grid.template.disabled=!0,i.renderer.line.strokeOpacity=1,i.renderer.line.stroke=r.getIndex(3),i.renderer.line.strokeWidth=2,i.renderer.opposite=!0;var o=e.series.push(this.props.performanceChart.normal?new fe.e:new fe.b);o.name="Normal (artificial, Box-Muller)",o.dataFields.valueY="column-1",o.dataFields.categoryX="id",o.strokeWidth=1,o.fillOpacity=1,o.tensionX=1,this.props.performanceChart.normal||(o.columns.template.width=ge.e(80),o.fillOpacity=0);var s=e.series.push(new fe.d);s.name="Normal (analytical)",s.dataFields.valueY="column-2",s.dataFields.categoryX="id",s.strokeWidth=1,s.tensionX=1;var l=e.series.push(new fe.d);l.name="Uniform",l.dataFields.valueY="column-3",l.dataFields.categoryX="id",l.strokeWidth=1,l.tensionX=1,l.hidden=!0;var c=e.series.push(new fe.d);c.name="CDF (Box-Muller)",c.dataFields.valueY="column-4",c.dataFields.categoryX="id",c.strokeWidth=1,c.tensionX=1,c.yAxis=i,e.cursor=new fe.h,e.legend=new fe.c;var h=e.legend.markers.template;h.width=12,h.height=12;var m=e.legend.itemContainers.template;m.paddingRight=5,m.paddingLeft=5,m.paddingTop=0,m.paddingBottom=0,e.paddingBottom=20,e.paddingTop=40}},{key:"render",value:function(){if(this.props.updateData.normal){if(this.props.performanceChart.normal&&this.prevPerf!==this.props.performanceChart.normal)ge.d.queue=!0,ge.d.minPolylineStep=5,this.prevPerf=!this.prevPerf,this.createChart();else if(this.props.performanceChart.normal||this.prevPerf===this.props.performanceChart.normal){if(this.props.updateData.normal){var e=this.createData();this.chart.data=e[0];var t=e[1];this.range.category=t?0:void 0,this.range.grid.strokeOpacity=t?.7:0}}else ge.d.queue=!1,ge.d.minPolylineStep=.5,this.prevPerf=!this.prevPerf,this.createChart();this.props.toggleUpdateData("normal")}return i.a.createElement(le,{title:"Normal Probability Distribution Histograms",avatar:i.a.createElement(we.a,null)},i.a.createElement("div",{className:"stats__chart",ref:"normal_chart"}))}}]),t}(i.a.Component);var xe={toggleUpdateData:O},Me=Object(k.b)((function(e){return{mean:e.mean,stDev:e.stDev,samples:e.samples,updateData:e.updateData,performanceChart:e.performanceChart}}),xe)(Ee),je=a(256);function Oe(e){var t=Object(je.a)((function(t){return{tag:{position:"relative",right:e.right.toString()+"vw",top:e.top.toString()+"vh",height:0}}}))();return i.a.createElement("div",{className:t.tag},i.a.createElement(pe.InlineMath,null,"("+e.children+")"))}var Te=function(){return i.a.createElement(R.a,{container:!0,spacing:3,className:"stats__grid"},i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(ue.a,{className:"stats__text"},i.a.createElement(H.a,{variant:"h4",align:"center",gutterBottom:!0},"Transforming Random Variable Distributions ",i.a.createElement("br",null)," \xa0"),i.a.createElement(H.a,{variant:"h6",align:"center",gutterBottom:!0},"Normal distributions"),i.a.createElement(H.a,null,"This section compares the performance of an artificially created normal distribution from the uniform distribution provided by Javascript's ",i.a.createElement("code",null,"Math.random()"),"\xa0function. In order to achieve this, a method called the\xa0",i.a.createElement(de.a,{className:"link",target:"_blank",href:"https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform"},"Box-Muller transform"),"\xa0 was used. If we have two uniformly distributed random variables",i.a.createElement(pe.InlineMath,null,"U_1")," and ",i.a.createElement(pe.InlineMath,null,"U_2"),", then:",i.a.createElement(pe.BlockMath,null,"Z_0 = R \\cos{(\\Theta)}"),i.a.createElement(pe.BlockMath,null,"Z_1 = R \\sin{(\\Theta)}"),"where ",i.a.createElement(pe.InlineMath,null,"Z_0")," and ",i.a.createElement(pe.InlineMath,null,"Z_1")," are normally distributed random variables and",i.a.createElement(pe.BlockMath,null,"R^2 = -2 \\ln{U_1}"),i.a.createElement(pe.BlockMath,null,"\\Theta = 2\\pi U_2"),"this leads to the final two equations:",i.a.createElement(pe.BlockMath,null,"Z_0 = \\sqrt{-2\\ln{U_1}} \\cos{(2\\pi U_2)}"),i.a.createElement(Oe,{right:-80,top:-4},"1"),i.a.createElement(pe.BlockMath,null,"Z_1 = \\sqrt{-2\\ln{U_1}} \\sin{(2\\pi U_2)}"),i.a.createElement(Oe,{right:-80,top:-4},"2"),"In the graph below, we can see its performance in a histogram compared to the analytic function of the normal distribution:",i.a.createElement(pe.BlockMath,null,"\\large{\\mathcal{N}(x \\hspace{2pt} ; \\hspace{2pt} \\mu,\\sigma) = \\frac{1}{\\sqrt{2\\pi\\sigma^2}}e^{-\\frac{(x-\\mu)^2}{2\\sigma^2}}}"),"There is also an option to show the source of the random variable by ticking the 'Uniform' legend which will show raw output from ",i.a.createElement("code",null,"Math.random()"),". The CDF of our transformed distribution is also shown to further our comparison.",i.a.createElement("br",null),"Below the graph, there is a panel that allows you to change the three parameters that define the graph: the mean, variance and number of samples."))),i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(Me,null)),i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(me,null)))},ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleBlur=function(e,t,n){a.props.clip(t,e,n),a.props.toggleUpdateData(n)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(le,{title:"Graph Configuration",avatar:i.a.createElement(z.a,null)},i.a.createElement(R.a,{container:!0},i.a.createElement(R.a,{item:!0,xs:6},i.a.createElement(Z,{label:"Lambda",name:"poisson",valueName:"lambda",value:this.props.lambda.poisson,inputChange:this.props.inputChange,sliderChange:this.props.sliderChange,toggleUpdateData:this.props.toggleUpdateData,handleBlur:this.handleBlur,max:745,icon:i.a.createElement(J.a,null)})),i.a.createElement(R.a,{item:!0,xs:6},i.a.createElement(Z,{label:"Samples",name:"poisson",valueName:"samples",value:this.props.samples.poisson,inputChange:this.props.inputChange,sliderChange:this.props.sliderChange,toggleUpdateData:this.props.toggleUpdateData,handleBlur:this.handleBlur,max:1e6,icon:i.a.createElement(K.a,null)})),i.a.createElement(R.a,{item:!0,xs:6},i.a.createElement(S.a,{component:"fieldset",className:"stats__performance-chart"},i.a.createElement(I.a,null,i.a.createElement(B.a,{control:i.a.createElement(L.a,{checked:this.props.performanceChart.poisson,onChange:function(){return e.props.togglePerformanceChart("poisson")}}),label:"Performance Chart"})),i.a.createElement(A.a,{margin:"dense"},"Tick for faster rendering (recommended at high variances)")))))}}]),t}(i.a.Component);var Ne={sliderChange:x,inputChange:M,clip:j,toggleUpdateData:O,togglePerformanceChart:T},De=Object(k.b)((function(e){return{lambda:e.lambda,samples:e.samples,performanceChart:e.performanceChart}}),Ne)(ke),Ce=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).chart=null,ge.d.commercialLicense=!0,e.prevPerf=!1,e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.createChart()}},{key:"createData",value:function(){var e=this.props.lambda.poisson,t=this.props.samples.poisson,a=q(be({samples:t,dependent:[{name:"column-1",mean:e,rules:["poisson","positive"]}]})),n=a[0],r=Object.keys(n),i=a[1],o=Object.keys(i).sort((function(e,t){return Number(e)-Number(t)})),s=o.concat(r),l=[],c=[];s.forEach((function(a,r){c=-1===Math.sign(Number(a))?i:n;var o={};o.id=Number(a),o["column-1"]=c[a]["column-1"],o["column-2"]=Math.round(W(e,parseInt(a,10))*t),l[0]?o["column-4"]=l[r-1]["column-4"]+o["column-2"]:o["column-4"]=o["column-2"],l.push(o)}));var h=!1;return 0!==o.length&&(h=!0),[l,h]}},{key:"createChart",value:function(){ge.g(ve.a),this.props.performanceChart.poisson?ge.f(ye.a):ge.g(ye.a),this.chart=ge.c(this.refs.poisson_chart,fe.g);var e=this.chart;e.categoryField="category";var t=this.createData();e.data=t[0];var a=t[1],n=e.xAxes.push(new fe.a);n.id="xAxis",n.dataFields.category="id",n.renderer.grid.strokeDasharray=3,this.range=n.axisRanges.create(),this.range.category=a?0:void 0,this.range.label.paddingTop=2,this.range.label.fontSize=12,this.range.grid.stroke=ge.b("grey"),this.range.grid.strokeWidth=1,this.range.grid.strokeOpacity=.7,e.yAxes.push(new fe.f).renderer.grid.strokeDasharray=3;var r=new ge.a,i=e.yAxes.push(new fe.f);i.renderer.grid.template.disabled=!0,i.renderer.line.strokeOpacity=1,i.renderer.line.stroke=r.getIndex(3),i.renderer.line.strokeWidth=2,i.renderer.opposite=!0;var o=e.series.push(this.props.performanceChart.poisson?new fe.e:new fe.b);o.name="Poisson (inverse transform sampling)",o.dataFields.valueY="column-1",o.dataFields.categoryX="id",o.strokeWidth=1,o.fillOpacity=1,o.tensionX=1,this.props.performanceChart.poisson||(o.columns.template.width=ge.e(80),o.fillOpacity=0);var s=e.series.push(new fe.d);s.name="Poisson (analytical)",s.dataFields.valueY="column-2",s.dataFields.categoryX="id",s.strokeWidth=1,s.tensionX=1;var l=e.series.push(new fe.d);l.name="CDF (analytical)",l.dataFields.valueY="column-4",l.dataFields.categoryX="id",l.strokeWidth=1,l.tensionX=1,l.yAxis=i,e.cursor=new fe.h,e.legend=new fe.c;var c=e.legend.markers.template;c.width=12,c.height=12;var h=e.legend.itemContainers.template;h.paddingRight=5,h.paddingLeft=5,h.paddingTop=0,h.paddingBottom=0,e.paddingBottom=20,e.paddingTop=40}},{key:"render",value:function(){if(this.props.updateData.poisson){if(this.props.performanceChart.poisson&&this.prevPerf!==this.props.performanceChart.poisson)ge.d.queue=!0,ge.d.minPolylineStep=5,this.prevPerf=!this.prevPerf,this.createChart();else if(this.props.performanceChart.poisson||this.prevPerf===this.props.performanceChart.poisson){if(this.props.updateData.poisson){var e=this.createData();this.chart.data=e[0];var t=e[1];this.range.category=t?0:void 0,this.range.grid.strokeOpacity=t?.7:0}}else ge.d.queue=!1,ge.d.minPolylineStep=.5,this.prevPerf=!this.prevPerf,this.createChart();this.props.toggleUpdateData("poisson")}return i.a.createElement(le,{title:"Poisson Probability Distribution Histograms",avatar:i.a.createElement(we.a,null)},i.a.createElement("div",{className:"stats__chart",ref:"poisson_chart"}))}}]),t}(i.a.Component);var Pe={toggleUpdateData:O},_e=Object(k.b)((function(e){return{lambda:e.lambda,samples:e.samples,updateData:e.updateData,performanceChart:e.performanceChart}}),Pe)(Ce);var Re=function(){return i.a.createElement(R.a,{container:!0,spacing:3,className:"stats__grid"},i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(ue.a,{className:"stats__text"},i.a.createElement(H.a,{variant:"h4",align:"center",gutterBottom:!0},"Transforming Random Variable Distributions ",i.a.createElement("br",null)," \xa0"),i.a.createElement(H.a,{variant:"h6",align:"center",gutterBottom:!0},"Poisson distributions"),i.a.createElement(H.a,null,"We now turn to the Poisson distribution, another very prominent distribution that describes random events happening at a constant rate independently of time. The analytic function is:",i.a.createElement(pe.BlockMath,null,"\\large{\\text{Po}(x\\hspace{2pt} ; \\hspace{2pt} \\lambda) = \\frac{\\lambda^x}{x!}e^{-\\lambda}}"),"To transform our uniform distribution to a Poisson one, we can use the Knuth algorithm or we can use inverse transform sampling to obtain a practical estimate to the analytic distribution (",i.a.createElement(de.a,{className:"link",target:"_blank",href:"https://en.wikipedia.org/wiki/Poisson_distribution#Generating_Poisson-distributed_random_variables"},"source"),"). Since the Knuth algorithm can have underflow errors at high ",i.a.createElement(pe.InlineMath,null,"\\lambda"),"\xa0 due to the very small ",i.a.createElement(pe.InlineMath,null,"e^{\\lambda}"),", another algorithm is also used that uses a smallest value of ",i.a.createElement(pe.InlineMath,null,"e^{-\\lambda}")," using a separate parameter \xa0",i.a.createElement(pe.InlineMath,null,"{\\footnotesize{\\text{STEP}}}"),"."))),i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(_e,null)),i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(De,null)))},Se=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).chart=null,ge.d.commercialLicense=!0,e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.createChart()}},{key:"createData",value:function(){return be({samples:10,variance_divisor:1,isStatic:!0,independent:"id",rules:["positive"],dependent:[{name:"column-1",typical:10,rules:[]}]})}},{key:"createChart",value:function(){ge.g(ve.a),ge.g(ye.a);var e=ge.c(this.refs.chart,fe.g);e.categoryField="category",e.data=this.createData();var t=e.xAxes.push(new fe.a);t.id="xAxis",t.dataFields.category="id",t.renderer.grid.strokeDasharray=3,e.yAxes.push(new fe.f).renderer.grid.strokeDasharray=3;var a=e.series.push(new fe.b);a.name="Spike Train",a.dataFields.valueY="column-1",a.dataFields.categoryX="id",a.columns.template.width=ge.e(1),a.strokeWidth=1,a.tensionX=1,a.fillOpacity=0,a.stroke=ge.b("#FF8000"),e.cursor=new fe.h,e.legend=new fe.c;var n=e.legend.markers.template;n.width=12,n.height=12;var r=e.legend.itemContainers.template;r.paddingRight=5,r.paddingLeft=5,r.paddingTop=0,r.paddingBottom=0,e.paddingTop=50}},{key:"render",value:function(){return i.a.createElement(R.a,{container:!0,spacing:3,className:"stats__grid"},i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(ue.a,{className:"stats__text"},i.a.createElement(H.a,{variant:"h4",align:"center",gutterBottom:!0},"Spike Trains ",i.a.createElement("br",null)," \xa0"),i.a.createElement(H.a,{align:"center",gutterBottom:!0},"This section is still under development."))),i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(le,{title:"Spike Train",avatar:i.a.createElement(we.a,null)},i.a.createElement("div",{className:"stats__chart",ref:"chart"}))))}}]),t}(i.a.Component),Ie=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(R.a,{container:!0,spacing:3,className:"stats__grid"},i.a.createElement(R.a,{item:!0,xs:12},i.a.createElement(ue.a,{className:"stats__text"},i.a.createElement(H.a,{variant:"h4",align:"center",gutterBottom:!0},"Google Colab notebooks: ",i.a.createElement("br",null)," ",i.a.createElement("br",null)),i.a.createElement(H.a,{variant:"h6",align:"center",gutterBottom:!0},i.a.createElement(de.a,{className:"link",target:"_blank",href:"http://bit.ly/2MLMApR"},"Gradient descent and Backpropagation"),i.a.createElement("br",null),i.a.createElement(de.a,{className:"link",target:"_blank",href:"http://bit.ly/2METBIW"},"Regularisation and Cross-Entropy"),i.a.createElement("br",null),i.a.createElement(de.a,{className:"link",target:"_blank",href:"http://bit.ly/2QG9HnC"},"k-means Clustering")))))}}]),t}(i.a.Component),Be=a(46),Le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).recursiveReflection=function(e,t,n){if(0===n)return 1;for(var r=[],i=0;i<a.objects.length;i++){for(var o=1;o<a.objects[i].length;o++)r.push(a.calculateIntersect(e,t,a.objects[i][o-1],a.objects[i][o]));a.objects[i].length>2&&r.push(a.calculateIntersect(e,t,a.objects[i][a.objects[i].length-1],a.objects[i][0]))}if(a.frame.length>0){for(var s=1;s<a.frame.length;s++)r.push(a.calculateIntersect(e,t,a.frame[s-1],a.frame[s]));r.push(a.calculateIntersect(e,t,a.frame[a.frame.length-1],a.frame[0]))}for(var l=1e8,c=-1,h=0,m=0;m<r.length;m++)r[m]&&(h=r[m].vMinus(e).l22)<l&&(c=m,l=h);if(c>=0){a.drawLine(e,r[c]),a.numberOfRays++;var u=new V(null,null);(u=c>=a.normals.length?a.frame_normals[c-a.normals.length]:a.normals[c])||(u=a.frame_normals[c-a.normals.length-1]),a.drawCircle(r[c],4);var d=a.reflect(r[c].vMinus(e),u).vPlus(r[c]);if(a.shootMode){if(setTimeout((function(){a.recursiveReflection(r[c],d,n-1)}),a.state.shootDelay),a.refraction){var p=a.refract(r[c].vMinus(e),u,a.state.refractiveIndex).vPlus(r[c]);setTimeout((function(){a.recursiveReflection(r[c],p,n-1)}),a.state.shootDelay)}}else if(a.recursiveReflection(r[c],d,n-1),a.refraction){var g=a.refract(r[c].vMinus(e),u,a.state.refractiveIndex).vPlus(r[c]);a.recursiveReflection(r[c],g,n-1)}}},a.clicked=function(e){var t=a.cvs.getBoundingClientRect();if(a.addMode||a.polyDraw)if(a.polyDraw){var n,r=a.drawPolygon(new V(e.x-t.left,e.y-t.top),a.polyRadius,a.polyN,a.polyAngle,!0);a.objects.push(r[0]),(n=a.normals).push.apply(n,Object(Be.a)(r[1])),a.objectsText.innerHTML="Number of objects: "+a.objects.length.toString(),a.edgesText.innerHTML="Number of edges: "+a.normals.length.toString()}else a.addedFirstVertex||(a.objects.push([]),a.addedFirstVertex=!0),a.objects[a.objects.length-1].push(new V(e.x-t.left,e.y-t.top)),a.objects[a.objects.length-1].length>1&&(a.normals.push(a.calculateNormal(a.objects[a.objects.length-1][a.objects[a.objects.length-1].length-1],a.objects[a.objects.length-1][a.objects[a.objects.length-1].length-2])),a.edgesText.innerHTML="Number of edges: "+a.normals.length.toString()),a.draw();else a.source.set(e.x-t.left,e.y-t.top),a.draw()},a.onScroll=function(e){a.polyDraw&&(3===a.polyN&&e.deltaY>0||(a.polyN-=e.deltaY/200,a.polyDrawText.innerHTML="Polygon draw mode (P): "+(a.polyDraw?"On (N="+a.polyN.toString()+", R="+a.polyRadius.toString()+", \u03b8="+a.round(a.polyAngle*(180/Math.PI)%360,3).toString()+"\xb0)":"Off"),a.draw())),a.multiRayMode&&(1===a.multiRayN&&e.deltaY>0||(a.multiRayN-=e.deltaY/200,a.multiRayText.innerHTML="Multi-ray mode (M): "+(a.multiRayMode?"On (N:"+a.multiRayN.toString()+")":"Off"),a.draw()))},a.onMouseMove=function(e){if(!a.addMode||a.polyDraw){var t=a.cvs.getBoundingClientRect();a.view.set(e.x-t.left,e.y-t.top),a.shootMode||a.draw()}},a.addObject=function(e){65===e.keyCode&&(a.addMode=!a.addMode,a.addMode&&(a.addedFirstVertex=!1,a.draw()),a.addMode||(a.objects.length>0&&(a.objects[a.objects.length-1].length>2?(a.normals.push(a.calculateNormal(a.objects[a.objects.length-1][0],a.objects[a.objects.length-1][a.objects[a.objects.length-1].length-1])),a.edgesText.innerHTML="Number of edges: "+a.normals.length.toString(),a.objectsText.innerHTML="Number of objects: "+a.objects.length.toString()):2===a.objects[a.objects.length-1].length?a.objectsText.innerHTML="Number of objects: "+a.objects.length.toString():a.objects.pop()),a.draw())),70===e.keyCode&&(a.frame_on?(a.frame=[],a.frame_normals=[]):(a.frame.push(new V(0,0),new V(0,a.cvs.height),new V(a.cvs.width,a.cvs.height),new V(a.cvs.width,0)),a.frame_normals.push(new V(1,0),new V(0,1),new V(-1,0),new V(0,-1))),a.frame_on=!a.frame_on,a.frameText.innerHTML="Frame (F): "+(a.frame_on?"On":"Off"),a.draw()),37===e.keyCode&&(a.polyDraw&&(a.polyAngle-=Math.PI/16,a.polyDrawText.innerHTML="Polygon draw mode (P): "+(a.polyDraw?"On (N="+a.polyN.toString()+", R="+a.polyRadius.toString()+", \u03b8="+a.round(a.polyAngle*(180/Math.PI)%360,3).toString()+"\xb0)":"Off")),a.draw()),38===e.keyCode&&(a.polyDraw?(a.polyRadius+=10,a.polyDrawText.innerHTML="Polygon draw mode (P): "+(a.polyDraw?"On (N="+a.polyN.toString()+", R="+a.polyRadius.toString()+", \u03b8="+a.round(a.polyAngle*(180/Math.PI)%360,3).toString()+"\xb0)":"Off")):(a.recursionDepth++,a.recursionDepthText.innerHTML="Recursion depth: "+a.recursionDepth.toString()),a.draw()),39===e.keyCode&&(a.polyDraw&&(a.polyAngle+=Math.PI/16,a.polyDrawText.innerHTML="Polygon draw mode (P): "+(a.polyDraw?"On (N="+a.polyN.toString()+", R="+a.polyRadius.toString()+", \u03b8="+a.round(a.polyAngle*(180/Math.PI)%360,3).toString()+"\xb0)":"Off")),a.draw()),40===e.keyCode&&(a.polyDraw?a.polyRadius>=20&&(a.polyRadius-=10,a.polyDrawText.innerHTML="Polygon draw mode (P): "+(a.polyDraw?"On (N="+a.polyN.toString()+", R="+a.polyRadius.toString()+", \u03b8="+a.round(a.polyAngle*(180/Math.PI)%360,3).toString()+"\xb0)":"Off")):1!==a.recursionDepth&&(a.recursionDepth--,a.recursionDepthText.innerHTML="Recursion depth: "+a.recursionDepth.toString()),a.draw()),82===e.keyCode&&(a.polyDraw?(a.polyRadius=50,a.polyN=8,a.polyAngle=0,a.polyDrawText.innerHTML="Polygon draw mode (P): "+(a.polyDraw?"On (N="+a.polyN.toString()+", R="+a.polyRadius.toString()+", \u03b8="+a.round(a.polyAngle*(180/Math.PI)%360,3).toString()+"\xb0)":"Off")):(a.recursionDepth=3,a.recursionDepthText.innerHTML="Recursion depth: "+a.recursionDepth.toString(),a.multiRayN=12,a.multiRayText.innerHTML="Multi-ray mode (M): "+(a.multiRayMode?"On (N:"+a.multiRayN.toString()+")":"Off")),a.draw()),67===e.keyCode&&(a.objects=[],a.normals=[],a.objectsText.innerHTML="Number of objects: "+a.objects.length.toString(),a.edgesText.innerHTML="Number of edges: "+a.normals.length.toString(),a.draw()),84===e.keyCode&&(a.refraction=!a.refraction,a.refractionText.innerHTML="Refraction (T): "+(a.refraction?"On":"Off"),a.draw()),83===e.keyCode&&(a.showNormals=!a.showNormals,a.normalsText.innerHTML="Surface normals (S): "+(a.showNormals?"On":"Off"),!a.addMode||a.objects.length>0&&a.objects[a.objects.length-1].length>0||(a.objects.pop(),a.popped=!a.popped),a.draw()),80===e.keyCode&&(a.polyDraw=!a.polyDraw,a.polyDrawText.innerHTML="Polygon draw mode (P): "+(a.polyDraw?"On (N="+a.polyN.toString()+", R="+a.polyRadius.toString()+", \u03b8="+a.round(a.polyAngle*(180/Math.PI)%360,3).toString()+"\xb0)":"Off"),a.draw()),77===e.keyCode&&(a.multiRayMode=!a.multiRayMode,a.multiRayText.innerHTML="Multi-ray mode (M): "+(a.multiRayMode?"On (N:"+a.multiRayN.toString()+")":"Off"),a.draw()),81===e.keyCode&&(a.shootMode=!a.shootMode,a.shootModeText.innerHTML="Shoot mode (Q): "+(a.shootMode?"On":"Off"),a.draw()),32===e.keyCode&&a.shootMode&&a.draw()},a.state={refractiveIndex:1.33,shootDelay:300},a.source=new V(null,null),a.view=new V(null,null),a.addMode=!1,a.objects=[],a.normals=[],a.frame_on=!0,a.dist=0,a.recursionDepth=3,a.numberOfRays=0,a.refraction=!0,a.showNormals=!1,a.popped=!1,a.polyDraw=!1,a.addedFirstVertex=!1,a.multiRayMode=!1,a.polyRadius=50,a.polyN=8,a.polyAngle=0,a.multiRayN=12,a.shootMode=!1,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.cvs=document.getElementById("canvas"),this.ctx=this.cvs.getContext("2d"),this.frame=[new V(0,0),new V(0,this.cvs.height),new V(this.cvs.width,this.cvs.height),new V(this.cvs.width,0)],this.frame_normals=[new V(1,0),new V(0,1),new V(-1,0),new V(0,-1)],this.cvs.addEventListener("mousedown",this.clicked),this.cvs.addEventListener("mousemove",this.onMouseMove),document.addEventListener("keydown",this.addObject),document.addEventListener("wheel",this.onScroll),this.recursionDepthText=document.getElementById("recursionDepth"),this.objectsText=document.getElementById("objects"),this.edgesText=document.getElementById("edges"),this.frameText=document.getElementById("frame"),this.raysText=document.getElementById("rays"),this.refractionText=document.getElementById("refraction"),this.normalsText=document.getElementById("normals"),this.polyDrawText=document.getElementById("polyDraw"),this.multiRayText=document.getElementById("multiRay"),this.shootModeText=document.getElementById("shootMode"),this.recursionDepthText.innerHTML="Recursion depth: "+this.recursionDepth.toString(),this.objectsText.innerHTML="Number of objects: "+this.objects.length.toString(),this.edgesText.innerHTML="Number of edges: "+this.normals.length.toString(),this.frameText.innerHTML="Frame (F): "+(this.frame_on?"On":"Off"),this.raysText.innerHTML="Number of rays: "+this.numberOfRays.toString(),this.refractionText.innerHTML="Refraction (T): "+(this.refraction?"On":"Off"),this.normalsText.innerHTML="Surface normals (S): "+(this.showNormals?"On":"Off"),this.polyDrawText.innerHTML="Polygon draw mode (P): "+(this.polyDraw?"On (N="+this.polyN.toString()+", R="+this.polyRadius.toString()+", \u03b8="+this.round(this.polyAngle*(180/Math.PI)%360,3).toString()+"\xb0)":"Off"),this.multiRayText.innerHTML="Multi-ray mode (M): "+(this.multiRayMode?"On (N:"+this.multiRayN.toString()+")":"Off"),this.shootModeText.innerHTML="Shoot mode (Q): "+(this.shootMode?"On":"Off")}},{key:"calculateIntersect",value:function(e,t,a,n){var r=t.vMinus(e),i=a.vMinus(e),o=n.vMinus(a),s=this.round((r.y*i.x-r.x*i.y)/(r.x*o.y-r.y*o.x),5),l=0;if(l=0===r.y?this.round((i.x+o.x*s)/r.x,5):this.round((i.y+o.y*s)/r.y,5),s<=1&&s>=0&&l>0)return a.vPlus(o.mult(s))}},{key:"round",value:function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}},{key:"reflect",value:function(e,t){return e.vMinus(t.mult(2*e.dot(t)))}},{key:"refract",value:function(e,t,a){e.normalise();var n=Math.min(Math.max(e.dot(t),-1),1),r=1,i=a,o=t;if(n<0)n=-n;else{var s=r;r=i,i=s,o=t.mult(-1)}var l=r/i,c=1-l*l*(1-n*n);return c<=0?new V(0,0):e.mult(l).vPlus(o.mult(l*n-Math.sqrt(c)))}},{key:"drawLine",value:function(e,t){var a,n;this.ctx.beginPath(),(a=this.ctx).moveTo.apply(a,Object(Be.a)(e.p)),(n=this.ctx).lineTo.apply(n,Object(Be.a)(t.p)),this.ctx.closePath(),this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.stroke()}},{key:"drawCircle",value:function(e,t){var a;this.ctx.beginPath(),(a=this.ctx).arc.apply(a,Object(Be.a)(e.p).concat([t,0,2*Math.PI])),this.ctx.fillStyle="rgb(0, 0, 255)",this.ctx.fill()}},{key:"drawArrow",value:function(e,t,a){var n,r,i,o,s;(n=this.ctx).moveTo.apply(n,Object(Be.a)(e.p)),t.normalise();var l=(t=t.mult(a)).vPlus(e);(r=this.ctx).lineTo.apply(r,Object(Be.a)(l.p));var c=Math.atan2(l.y-e.y,l.x-e.x),h=new V(Math.cos(c+Math.PI/6),Math.sin(c+Math.PI/6)).mult(a/5),m=new V(Math.cos(c-Math.PI/6),Math.sin(c-Math.PI/6)).mult(a/5);(i=this.ctx).lineTo.apply(i,Object(Be.a)(l.vMinus(h).p)),(o=this.ctx).moveTo.apply(o,Object(Be.a)(l.p)),(s=this.ctx).lineTo.apply(s,Object(Be.a)(l.vMinus(m).p))}},{key:"drawPolygon",value:function(e,t,a,n,r){this.ctx.beginPath();var i=Math.PI*(2/a),o=2*t*Math.sin(n/2),s=Math.PI/8-n/2,l=2*t*Math.sin(i/2),c=e.x-l/2+o*Math.cos(s),h=e.y-t-o*Math.sin(s),m=[new V(c,h)],u=[];this.ctx.moveTo(c,h);for(var d=0;d<a-1;d++)c+=l*Math.cos(d*i+n),h+=l*Math.sin(d*i+n),r?(m.push(new V(c,h)),u.push(this.calculateNormal(m[m.length-2],m[m.length-1]))):this.ctx.lineTo(c,h);if(this.ctx.closePath(),this.ctx.stroke(),r)return u.push(this.calculateNormal(m[m.length-1],m[0])),[m,u]}},{key:"calculateNormal",value:function(e,t){var a=t.vMinus(e),n=new V(a.y,-a.x);return n.normalise(),n}},{key:"draw_border",value:function(){if(this.ctx.clearRect(0,0,this.cvs.width,this.cvs.height),this.frame.length>0){var e;this.ctx.beginPath(),(e=this.ctx).moveTo.apply(e,Object(Be.a)(this.frame[0].p));for(var t=1;t<this.frame.length;t++){var a;(a=this.ctx).lineTo.apply(a,Object(Be.a)(this.frame[t].p))}this.ctx.closePath(),this.ctx.strokeStyle="rgb(255, 0, 0)",this.ctx.lineWidth=4,this.ctx.stroke(),this.ctx.strokeStyle="rgb(0, 0, 0)",this.ctx.lineWidth=1}else this.ctx.lineWidth=4,this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.strokeRect(0,0,this.cvs.width,this.cvs.height),this.ctx.lineWidth=1}},{key:"drawNormals",value:function(){var e=0;this.ctx.beginPath();for(var t=0;t<this.objects.length;t++){for(var a=1;a<this.objects[t].length;a++)this.drawArrow(this.objects[t][a].vPlus(this.objects[t][a-1]).mult(.5),this.normals[e],30),e++;this.objects[t].length>2&&(this.normals[e]?this.drawArrow(this.objects[t][0].vPlus(this.objects[t][this.objects[t].length-1]).mult(.5),this.normals[e],30):this.drawArrow(this.objects[t][0].vPlus(this.objects[t][this.objects[t].length-1]).mult(.5),this.calculateNormal(this.objects[t][0],this.objects[t][this.objects[t].length-1]),30),e++)}this.ctx.closePath(),this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.stroke()}},{key:"drawObjects",value:function(){if(this.objects.length>0&&this.objects[this.objects.length-1].length>0)for(var e=0;e<this.objects.length;e++){var t;this.ctx.beginPath(),(t=this.ctx).moveTo.apply(t,Object(Be.a)(this.objects[e][0].p));for(var a=1;a<this.objects[e].length;a++){var n;(n=this.ctx).lineTo.apply(n,Object(Be.a)(this.objects[e][a].p))}this.ctx.closePath(),this.ctx.strokeStyle="rgb(255, 255, 255)",this.ctx.stroke(),this.refraction&&(this.ctx.fillStyle="rgba(255,148,0,0.38)",this.ctx.fill())}}},{key:"drawMultiRays",value:function(){for(var e=new V(0,0),t=Math.PI*(2/this.multiRayN),a=0;a<this.multiRayN;a++)e=new V(this.round(Math.sin(a*t),4),-this.round(Math.cos(a*t),4)),this.recursiveReflection(this.view,this.view.vPlus(e),this.recursionDepth)}},{key:"draw",value:function(){this.draw_border(),this.numberOfRays=0,this.addMode&&(this.ctx.fillStyle="rgb(0, 0, 255, 0.2)",this.ctx.fillRect(2,2,this.cvs.width-4,this.cvs.height-4)),this.multiRayMode||this.drawCircle(this.source,3),this.polyDraw&&this.drawPolygon(this.view,this.polyRadius,this.polyN,this.polyAngle,!1),this.drawObjects(),this.showNormals&&this.drawNormals(),this.popped&&(this.objects.push([]),this.popped=!this.popped),this.polyDraw||(this.multiRayMode?this.drawMultiRays():this.recursiveReflection(this.source,this.view,this.recursionDepth)),this.raysText.innerHTML="Number of rays: "+this.numberOfRays.toString()}},{key:"render",value:function(){var e=this;return i.a.createElement(ue.a,{className:"rayPaper"},i.a.createElement("div",{style:{height:"5em"}}),i.a.createElement("canvas",{id:"canvas",width:.99*window.innerWidth,height:.73*window.innerHeight}),i.a.createElement("section",{className:"info"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"rtcard",id:"recursionDepth"}),i.a.createElement("div",{className:"rtcard",id:"objects"}),i.a.createElement("div",{className:"rtcard",id:"edges"})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"rtcard",id:"frame"}),i.a.createElement("div",{className:"rtcard",id:"refraction"}),i.a.createElement("div",{className:"rtcard",id:"normals"})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"rtcard",id:"polyDraw"}),i.a.createElement("div",{className:"refr"},i.a.createElement("label",{htmlFor:"refractiveIndex"},"Refractive index: "),i.a.createElement("input",{value:this.state.refractiveIndex,placeholder:"1.33",id:"refractiveIndex",onChange:function(t){e.setState({refractiveIndex:t.target.value})}})),i.a.createElement("div",{className:"rtcard",id:"rays"})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"rtcard",id:"multiRay"}),i.a.createElement("div",{className:"refr"},i.a.createElement("div",{id:"shootMode"}),i.a.createElement("input",{value:this.state.shootDelay,placeholder:"300",id:"shootDelay",onChange:function(t){e.setState({shootDelay:t.target.value})}})))))}}]),t}(i.a.Component),Ae=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(_,null),i.a.createElement("div",{className:"home"===this.props.selectedTab?"":"invisible"},i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),"Data Visualisation")),i.a.createElement("div",{className:"normal"===this.props.selectedTab?"":"invisible"},i.a.createElement(Te,null)),i.a.createElement("div",{className:"poisson"===this.props.selectedTab?"":"invisible"},i.a.createElement(Re,null)),i.a.createElement("div",{className:"spikeTrains"===this.props.selectedTab?"":"invisible"},i.a.createElement(Se,null)),i.a.createElement("div",{className:"rayTracing"===this.props.selectedTab?"":"invisible"},i.a.createElement(Le,null)),i.a.createElement("div",{className:"ipython"===this.props.selectedTab?"":"invisible"},i.a.createElement(Ie,null)))}}]),t}(i.a.Component);var He=Object(k.b)((function(e){return{selectedTab:e.selectedTab}}))(Ae),Fe=a(156);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ue=a(109),We=a(181),Ge=a(258);function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var qe=Object(We.a)({palette:{type:"dark",secondary:{main:"#FFFFFF"}}}),Ye={mean:{normal:1,poisson:100},stDev:{normal:10,poisson:10},lambda:{poisson:5},samples:{normal:1e3,poisson:1e3},updateData:{normal:!1,poisson:!1},performanceChart:{normal:!1,poisson:!1},selectedTab:"home"};var Ve=Object(Fe.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SLIDER_CHANGE":return Object(Ue.a)(e,(function(e){e[t.value][t.name]=function(e){var t=Math.floor((e+Math.floor(e/10))/10);return(e+t)%10*Math.pow(10,t)}(t.newValue)}));case"INPUT_CHANGE":return Object(Ue.a)(e,(function(e){e[t.value][t.name]=""===t.event.target.value?"":Number(t.event.target.value)}));case"CLIP":return e[t.value][t.name]>t.max?Object(Ue.a)(e,(function(e){e[t.value][t.name]=t.max})):e[t.value][t.name]<0?Object(Ue.a)(e,(function(e){e[t.value][t.name]=0})):e;case"TOGGLE_UPDATE_DATA":return Object(Ue.a)(e,(function(a){a.updateData[t.name]=!e.updateData[t.name]}));case"TOGGLE_PERFORMANCE_CHART":return Object(Ue.a)(e,(function(a){a.updateData[t.name]=!e.updateData[t.name],a.performanceChart[t.name]=!e.performanceChart[t.name]}));case"SET_TAB":return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{selectedTab:t.value});default:return e}}));s.a.render(i.a.createElement(k.a,{store:Ve},i.a.createElement(Ge.a,{theme:qe},i.a.createElement(He,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[191,1,3]]]);
//# sourceMappingURL=main.8f875b62.chunk.js.map